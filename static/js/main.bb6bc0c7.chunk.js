(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(44)},26:function(e,t,a){},4:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(13),i=a.n(r),l=(a(26),a(14)),o=a(15),c=a(16),m=a(18),p=a(17),d=a(19),u=(a(4),a(2)),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={apiCalled:!1,APIkey:"abca5400fcc5dc0c00e8077d15e20a9e",inputZip:"",inputError:!1,currentTemp:"",highTemp:"",lowTemp:"",weatherDesc:"",forecastTemp:[],forecastDesc:[],forecastDays:[],displayName:"",lightMode:!0},a.handleChange=function(e){a.setState(Object(l.a)({},e.target.name,e.target.value))},a.handleDefaultCall=function(e){e.preventDefault(),u.all([u.get("https://api.openweathermap.org/data/2.5/weather?zip=".concat(a.state.inputZip,",us&units=imperial&appid=").concat(a.state.APIkey)),u.get("https://api.openweathermap.org/data/2.5/forecast?zip=".concat(a.state.inputZip,",us&units=imperial&appid=").concat(a.state.APIkey))]).then(u.spread(function(e,t){console.log(e),console.log(t),a.setState({apiCalled:!0,inputError:!1,displayName:a.state.inputZip,inputZip:"",currentTemp:a.roundTemp(e.data.main.temp),highTemp:a.roundTemp(e.data.main.temp_max),lowTemp:a.roundTemp(e.data.main.temp_min),weatherDesc:a.properCase(e.data.weather[0].description),forecastTemp:[a.roundTemp(t.data.list[1].main.temp),a.roundTemp(t.data.list[9].main.temp),a.roundTemp(t.data.list[17].main.temp),a.roundTemp(t.data.list[25].main.temp),a.roundTemp(t.data.list[33].main.temp)],forecastDesc:[a.properCase(t.data.list[1].weather[0].description),a.properCase(t.data.list[9].weather[0].description),a.properCase(t.data.list[17].weather[0].description),a.properCase(t.data.list[25].weather[0].description),a.properCase(t.data.list[33].weather[0].description)],forecastDays:[a.getDayOfWeek(t.data.list[1].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[9].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[17].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[25].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[33].dt_txt.substring(0,10))]})})).catch(function(e){a.setState({inputError:!0})})},a.useCurrentLoc=function(e){e.preventDefault(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){sessionStorage.setItem("latitude",e.coords.latitude),sessionStorage.setItem("longitude",e.coords.longitude),a.handleGeoCall()},function(e){console.log(e)})},a.handleGeoCall=function(e){var t=sessionStorage.getItem("latitude"),s=sessionStorage.getItem("longitude");u.all([u.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(s,"&units=imperial&appid=").concat(a.state.APIkey)),u.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t,"&lon=").concat(s,"&units=imperial&appid=").concat(a.state.APIkey))]).then(u.spread(function(e,t){console.log(e),console.log(t),a.setState({apiCalled:!0,inputError:!1,displayName:e.data.name,inputZip:"",currentTemp:a.roundTemp(e.data.main.temp),highTemp:a.roundTemp(e.data.main.temp_max),lowTemp:a.roundTemp(e.data.main.temp_min),weatherDesc:a.properCase(e.data.weather[0].description),forecastTemp:[a.roundTemp(t.data.list[1].main.temp),a.roundTemp(t.data.list[9].main.temp),a.roundTemp(t.data.list[17].main.temp),a.roundTemp(t.data.list[25].main.temp),a.roundTemp(t.data.list[33].main.temp)],forecastDesc:[a.properCase(t.data.list[1].weather[0].description),a.properCase(t.data.list[9].weather[0].description),a.properCase(t.data.list[17].weather[0].description),a.properCase(t.data.list[25].weather[0].description),a.properCase(t.data.list[33].weather[0].description)],forecastDays:[a.getDayOfWeek(t.data.list[1].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[9].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[17].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[25].dt_txt.substring(0,10)),a.getDayOfWeek(t.data.list[33].dt_txt.substring(0,10))]})})).catch(function(e){console.log(e)})},a.darkToggle=function(e){!0===a.state.lightMode?(document.body.style.backgroundColor="black",localStorage.setItem("lightMode",!1),a.setState({lightMode:!1})):(document.body.style.backgroundColor="#d8d8d8",localStorage.setItem("lightMode",!0),a.setState({lightMode:!0}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"roundTemp",value:function(e){return Math.floor(e)}},{key:"properCase",value:function(e){e=e.toLowerCase().split(" ");for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")}},{key:"getDayOfWeek",value:function(e){var t=new Date(e).getUTCDay();return isNaN(t)?null:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t]}},{key:"reload",value:function(){window.location.reload()}},{key:"render",value:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;e=a+"/"+t;var s=this.state,r=s.currentTemp,i=s.highTemp,l=s.lowTemp,o=s.weatherDesc,c=s.displayName;return n.a.createElement("main",{className:"App"},n.a.createElement("h1",null,n.a.createElement("span",{className:"puff-in-center ".concat(this.state.lightMode?"title2":"title")},"Cloudy "),n.a.createElement("span",{className:"puff-in-center ".concat(this.state.lightMode?"title1":"title")},"with a Chance of "),n.a.createElement("span",{className:"puff-in-center ".concat(this.state.lightMode?"title2":"title")},"Weather")),n.a.createElement("a",{href:".",onClick:this.reload},n.a.createElement("i",{className:this.state.lightMode?"fas fa-home Home":"fas fa-home HomeDark",title:"Home"})),n.a.createElement("i",{className:this.state.lightMode?"fas fa-adjust Switch":"fas fa-adjust SwitchDark",title:"Toggle Dark Theme",onClick:this.darkToggle}),n.a.createElement("form",{onSubmit:this.handleDefaultCall},n.a.createElement("input",{value:this.state.inputZip,name:"inputZip",onChange:this.handleChange,placeholder:"Enter zip code..."}),n.a.createElement("span",{className:"currentLoc"},n.a.createElement("i",{className:this.state.lightMode?"fas fa-map-marker-alt":"fas fa-map-marker-alt locDark",onClick:this.useCurrentLoc,title:"Use Current Location"})),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-info btn-sm submit",onClick:this.handleDefaultCall},"Submit"),n.a.createElement("div",{className:"inputError ".concat(!this.state.inputError&&"errToggle")},"Error - please try another zip code")),n.a.createElement("div",null,this.state.apiCalled?n.a.createElement("div",null,n.a.createElement("div",{className:this.state.lightMode?"currentForecast":"resultsDark"},n.a.createElement("h1",null,"Weather Report for ",c),n.a.createElement("h1",null,e," "),n.a.createElement("div",{className:"tempDiv"},r,"\xb0"),n.a.createElement("div",null,o),n.a.createElement("div",null,"High of ",i,"\xb0"),n.a.createElement("div",null,"Low of ",l,"\xb0")),n.a.createElement("div",{className:this.state.lightMode?"futureForecast":"futureForecastDark"},n.a.createElement("h1",null,"5 Day Forecast"),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row weekDays"},n.a.createElement("div",{className:"col"},this.state.forecastDays[0]),n.a.createElement("div",{className:"col"},this.state.forecastDays[1]),n.a.createElement("div",{className:"col"},this.state.forecastDays[2]),n.a.createElement("div",{className:"col"},this.state.forecastDays[3]),n.a.createElement("div",{className:"col"},this.state.forecastDays[4])),n.a.createElement("div",{className:"row fiveDay"},n.a.createElement("div",{className:"col"},this.state.forecastTemp[0],"\xb0"),n.a.createElement("div",{className:"col"},this.state.forecastTemp[1],"\xb0"),n.a.createElement("div",{className:"col"},this.state.forecastTemp[2],"\xb0"),n.a.createElement("div",{className:"col"},this.state.forecastTemp[3],"\xb0"),n.a.createElement("div",{className:"col"},this.state.forecastTemp[4],"\xb0")),n.a.createElement("div",{className:"row fiveDayDesc"},n.a.createElement("div",{className:"col"},this.state.forecastDesc[0]),n.a.createElement("div",{className:"col"},this.state.forecastDesc[1]),n.a.createElement("div",{className:"col"},this.state.forecastDesc[2]),n.a.createElement("div",{className:"col"},this.state.forecastDesc[3]),n.a.createElement("div",{className:"col"},this.state.forecastDesc[4]))))):n.a.createElement("div",{className:"cloudy"})))}}]),t}(s.Component),f=function(){return n.a.createElement(h,{component:h})};i.a.render(n.a.createElement(f,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bb6bc0c7.chunk.js.map